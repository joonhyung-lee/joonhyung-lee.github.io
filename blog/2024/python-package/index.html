<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> How to Set Up a Python Package | Joel Lee </title> <meta name="author" content="Joel Lee"> <meta name="description" content="A comprehensive guide on creating and managing a Python package"> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%F0%9F%A4%93&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://joonhyung-lee.github.io//blog/2024/python-package/"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?bf50d6d9dd867d3e0f3b0add94449649"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> Joel Lee </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">miscellaneous </a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item " href="/repositories/">repositories</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/teaching/">teaching</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/gallery/">gallery</a> </div> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fa-solid fa-moon"></i> <i class="fa-solid fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">How to Set Up a Python Package</h1> <p class="post-meta"> October 21, 2024 </p> <p class="post-tags"> <a href="/blog/2024"> <i class="fa-solid fa-calendar fa-sm"></i> 2024 </a>   ·   <a href="/blog/tag/python"> <i class="fa-solid fa-hashtag fa-sm"></i> python</a>   <a href="/blog/tag/setup"> <i class="fa-solid fa-hashtag fa-sm"></i> setup</a>   <a href="/blog/tag/package"> <i class="fa-solid fa-hashtag fa-sm"></i> package</a>   <a href="/blog/tag/2024"> <i class="fa-solid fa-hashtag fa-sm"></i> 2024</a>     ·   <a href="/blog/category/python"> <i class="fa-solid fa-tag fa-sm"></i> python</a>   </p> </header> <article class="post-content"> <div id="markdown-content"> <h2 id="introduction">Introduction</h2> <p>Creating a Python package is an essential skill for any Python developer. It allows you to organize your code, make it reusable, and share it with others. In this post, we’ll go through the process of setting up a Python package step by step.</p> <h2 id="setting-up-the-package-structure">Setting Up the Package Structure</h2> <ol> <li> <p>Create a new directory for your package:</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nb">mkdir </span>my_package
<span class="nb">cd </span>my_package
</code></pre></div> </div> </li> <li> <p>Create the following file structure:</p> <div class="language-plaintext highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>my_package/
├── my_package/
│   ├── __init__.py
│   └── main.py
├── tests/
│   └── test_main.py
├── README.md
├── LICENSE
└── setup.py
</code></pre></div> </div> </li> </ol> <h2 id="writing-setuppy">Writing setup.py</h2> <p>The <code class="language-plaintext highlighter-rouge">setup.py</code> file is crucial for packaging your project. Here’s a basic example:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">setuptools</span> <span class="kn">import</span> <span class="n">setup</span><span class="p">,</span> <span class="n">find_packages</span>

<span class="nf">setup</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="sh">"</span><span class="s">my_package</span><span class="sh">"</span><span class="p">,</span>
    <span class="n">version</span><span class="o">=</span><span class="sh">"</span><span class="s">0.1.0</span><span class="sh">"</span><span class="p">,</span>
    <span class="n">packages</span><span class="o">=</span><span class="nf">find_packages</span><span class="p">(</span><span class="n">exclude</span><span class="o">=</span><span class="p">[</span><span class="sh">"</span><span class="s">tests</span><span class="sh">"</span><span class="p">]),</span>
    <span class="n">install_requires</span><span class="o">=</span><span class="p">[</span>
        <span class="sh">"</span><span class="s">dependency1</span><span class="sh">"</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">dependency2</span><span class="sh">"</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="n">author</span><span class="o">=</span><span class="sh">"</span><span class="s">Your Name</span><span class="sh">"</span><span class="p">,</span>
    <span class="n">author_email</span><span class="o">=</span><span class="sh">"</span><span class="s">your.email@example.com</span><span class="sh">"</span><span class="p">,</span>
    <span class="n">description</span><span class="o">=</span><span class="sh">"</span><span class="s">A short description of your package</span><span class="sh">"</span><span class="p">,</span>
    <span class="n">long_description</span><span class="o">=</span><span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">README.md</span><span class="sh">"</span><span class="p">).</span><span class="nf">read</span><span class="p">(),</span>
    <span class="n">long_description_content_type</span><span class="o">=</span><span class="sh">"</span><span class="s">text/markdown</span><span class="sh">"</span><span class="p">,</span>
    <span class="n">url</span><span class="o">=</span><span class="sh">"</span><span class="s">https://github.com/yourusername/my_package</span><span class="sh">"</span><span class="p">,</span>
    <span class="n">classifiers</span><span class="o">=</span><span class="p">[</span>
        <span class="sh">"</span><span class="s">Programming Language :: Python :: 3</span><span class="sh">"</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">License :: OSI Approved :: MIT License</span><span class="sh">"</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">Operating System :: OS Independent</span><span class="sh">"</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="n">python_requires</span><span class="o">=</span><span class="sh">"</span><span class="s">&gt;=3.7</span><span class="sh">"</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div></div> <h2 id="managing-dependencies">Managing Dependencies</h2> <p>List your package dependencies in the <code class="language-plaintext highlighter-rouge">install_requires</code> parameter of <code class="language-plaintext highlighter-rouge">setup()</code>. For development dependencies, you can create a <code class="language-plaintext highlighter-rouge">requirements.txt</code> file: In <code class="language-plaintext highlighter-rouge">requirements.txt</code>, you can write like below.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Image processing and visualization
opencv-python # or opencv-python-headless
matplotlib

# LangChain and related libraries
langchain
langchain-core
langchain_openai
langchain_anthropic
redis
python-dotenv

# Database
mysql-connector-python

# Additional requirements
numpy
# torch # (Need to check the Jetpack version if on Jetson)
openai
anyio
pydantic
scipy
</code></pre></div></div> <h2 id="version-control-with-git">Version Control with Git</h2> <ol> <li> <p>Initialize a Git repository:</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>git init
</code></pre></div> </div> </li> <li> <p>Create a <code class="language-plaintext highlighter-rouge">.gitignore</code> file:</p> <div class="language-plaintext highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>__pycache__/
*.pyc
*.egg-info/
dist/
build/
.pytest_cache/
</code></pre></div> </div> </li> <li> <p>Make your first commit:</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>git add <span class="nb">.</span>
git commit <span class="nt">-m</span> <span class="s2">"Initial commit"</span>
</code></pre></div> </div> </li> </ol> <h2 id="building-and-publishing">Building and Publishing</h2> <ol> <li> <p>Install build tools:</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>pip <span class="nb">install </span>build twine
</code></pre></div> </div> </li> <li> <p>Build your package:</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>python <span class="nt">-m</span> build
</code></pre></div> </div> </li> <li> <p>Upload to PyPI (ensure you have an account):</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>twine upload dist/<span class="k">*</span>
</code></pre></div> </div> </li> </ol> <h2 id="installing-your-package">Installing Your Package</h2> <p>Once published, you can install your package using pip:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install </span>my_package
</code></pre></div></div> <p>For development or to install from GitHub:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install </span>git+https://github.com/yourusername/my_package.git
</code></pre></div></div> <h2 id="updating-your-package">Updating Your Package</h2> <ol> <li>Update your code and increment the version number in <code class="language-plaintext highlighter-rouge">setup.py</code>.</li> <li>Rebuild and republish: <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>python <span class="nt">-m</span> build
twine upload dist/<span class="k">*</span>
</code></pre></div> </div> </li> </ol> <p>To update an installed package:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install</span> <span class="nt">--upgrade</span> my_package
</code></pre></div></div> <p>Or for a GitHub-installed package:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install</span> <span class="nt">--upgrade</span> <span class="nt">--force-reinstall</span> git+https://github.com/yourusername/my_package.git
</code></pre></div></div> <h2 id="automating-package-publishing-with-github-actions">Automating Package Publishing with GitHub Actions</h2> <p>To automate the process of publishing your package to PyPI whenever you push a new release, you can use GitHub Actions. Here’s how to set it up:</p> <ol> <li>Create a <code class="language-plaintext highlighter-rouge">.github/workflows/publish.yml</code> file in your repository:</li> </ol> <pre><code class="language-yaml:.github/workflows/publish.yml">name: Publish Python Package

on:
  release:
    types: [created]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - name: Set up Python
      uses: actions/setup-python@v2
      with:
        python-version: '3.x'
    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip
        pip install build twine
    - name: Build and publish
      env:
        TWINE_USERNAME: __token__
        TWINE_PASSWORD: $
      run: |
        python -m build
        twine upload dist/*
</code></pre> <p>This workflow will trigger whenever you create a new release on GitHub. It sets up Python, installs the necessary dependencies, builds your package, and uploads it to PyPI using the credentials stored in GitHub Secrets.</p> <ol> <li>Store your PyPI API token as a secret in your GitHub repository: <ul> <li>Go to your repository on GitHub</li> <li>Click on “Settings” &gt; “Secrets” &gt; “New repository secret”</li> <li>Name the secret <code class="language-plaintext highlighter-rouge">PYPI_API_TOKEN</code> and paste your PyPI API token as the value</li> </ul> </li> </ol> <h2 id="managing-pypi-credentials-with-pypirc">Managing PyPI Credentials with .pypirc</h2> <p>For local development and manual uploads, you can use a <code class="language-plaintext highlighter-rouge">.pypirc</code> file to store your PyPI credentials securely. Here’s how to set it up:</p> <ol> <li>Create a <code class="language-plaintext highlighter-rouge">.pypirc</code> file in your home directory:</li> </ol> <pre><code class="language-ini:.pypirc">[distutils]
index-servers =
    pypi
    testpypi

[pypi]
username = __token__
password = your_pypi_api_token

[testpypi]
repository = https://test.pypi.org/legacy/
username = __token__
password = your_testpypi_api_token
</code></pre> <p>Replace <code class="language-plaintext highlighter-rouge">your_pypi_api_token</code> and <code class="language-plaintext highlighter-rouge">your_testpypi_api_token</code> with your actual API tokens for PyPI and TestPyPI respectively.</p> <ol> <li>Set appropriate permissions for the <code class="language-plaintext highlighter-rouge">.pypirc</code> file:</li> </ol> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">chmod </span>600 ~/.pypirc
</code></pre></div></div> <p>This ensures that only you can read or write to the file.</p> <p>With this setup, you can easily publish your package using <code class="language-plaintext highlighter-rouge">twine</code> without having to enter your credentials each time. For example:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>twine upload dist/<span class="k">*</span>
</code></pre></div></div> <p>Remember to never commit the <code class="language-plaintext highlighter-rouge">.pypirc</code> file to your version control system, as it contains sensitive information. And finally you can see the installed package like below image.</p> <div align="center"> <img src="/assets/python_package/terminal_result.png" width="95%"> <p>Installed package</p> </div> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/docker/">[miscellaneous] docker usage</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/pyenv/">[miscellaneous] pyenv usage</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/act/">Action Chunking Transformer</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/vq/">[study] Vector Quantization</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/apriltag-pose-estimation/">[구현] AprilTag Pose Estimation</a> </li> <div id="giscus_thread" style="max-width: 800px; margin: 0 auto;"> <script>let giscusTheme=localStorage.getItem("theme"),giscusAttributes={src:"https://giscus.app/client.js","data-repo":"joonhyung-lee/joonhyung-lee.github.io","data-repo-id":"","data-category":"Comments","data-category-id":"","data-mapping":"title","data-strict":"1","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":giscusTheme,"data-lang":"en",crossorigin:"anonymous",async:""},giscusScript=document.createElement("script");Object.entries(giscusAttributes).forEach(([t,e])=>giscusScript.setAttribute(t,e)),document.getElementById("giscus_thread").appendChild(giscusScript);</script> <noscript>Please enable JavaScript to view the <a href="http://giscus.app/?ref_noscript" rel="external nofollow noopener" target="_blank">comments powered by giscus.</a> </noscript> </div> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Joel Lee. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script defer src="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?2930004b8d7fcd0a8e00fdcfc8fc9f24"></script> <script defer src="/assets/js/common.js?4a129fbf39254905f505c7246e641eaf"></script> <script defer src="/assets/js/copy_code.js?7254ae07fe9cc5f3a10843e1c0817c9c" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-9TR3PVMLQ0"></script> <script>function gtag(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-9TR3PVMLQ0");</script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>